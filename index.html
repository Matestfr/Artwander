<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#FDFBF7">
    <title>ArtWander Paris</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;600;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        wander: {
                            base: '#FDFBF7', // Beige Cr√®me
                            dark: '#001B55', // Bleu Nuit
                            gold: '#FFC857', // Jaune Soleil
                            light: '#EBE5D9', // Beige plus fonc√© pour bordures
                        }
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 27, 85, 0.08)',
                        'nav': '0 -4px 20px rgba(0,0,0,0.03)',
                        'card': '0 10px 30px -5px rgba(0, 27, 85, 0.1)',
                    }
                }
            }
        }
    </script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        .swiper-pagination-bullet-active { background-color: #001B55 !important; }
        
        .header-scrolled { background: rgba(253, 251, 247, 0.95); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .header-transparent { background: transparent; border-bottom: 1px solid transparent; }

        .ticket-notch { position: absolute; width: 20px; height: 20px; background-color: #FDFBF7; border-radius: 50%; z-index: 10; }
        
        @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin-slow { animation: spin-slow 12s linear infinite; }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }

        /* Transitions fluides */
        .fade-enter-active, .fade-leave-active { transition: opacity 0.2s ease; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }

        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-wander-base text-wander-dark antialiased selection:bg-wander-gold selection:text-wander-dark pb-28" 
      x-data="app()" 
      x-init="initTimers()"
      @scroll.window="scrolled = (window.pageYOffset > 10)">

    <header x-show="tab !== 'account'" 
            class="fixed top-0 inset-x-0 z-50 h-16 flex items-center justify-between px-5 transition-all duration-300"
            :class="scrolled ? 'header-scrolled' : 'header-transparent'">
        <div class="flex items-center gap-3">
            <div class="text-wander-dark font-serif font-black text-xl tracking-widest uppercase">ArtWander</div>
            <div class="relative" x-data="{ open: false }">
                <button @click="open = !open" class="bg-white/50 border border-wander-dark/10 backdrop-blur text-wander-dark hover:bg-white transition-colors text-xs pl-3 pr-2 py-1.5 rounded-full font-bold flex items-center gap-1 active:scale-95 duration-200 font-sans">
                    <span x-text="currentCity">Paris</span>
                    <svg :class="open ? 'rotate-180' : ''" class="w-3 h-3 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div x-show="open" @click.outside="open = false" x-transition class="absolute top-full left-0 mt-2 w-40 bg-white rounded-xl shadow-xl border border-wander-light overflow-hidden py-1 z-50 max-h-64 overflow-y-auto" style="display: none;">
                    <template x-for="city in cities" :key="city">
                        <button @click="currentCity = city; open = false" class="w-full text-left px-4 py-2 text-xs font-medium text-wander-dark hover:bg-wander-base transition-colors font-serif" x-text="city"></button>
                    </template>
                </div>
            </div>
        </div>
        <div @click="tab = 'account'" class="h-10 w-10 rounded-full bg-wander-dark border-2 border-white shadow-md flex items-center justify-center cursor-pointer text-xl overflow-hidden">
            <img src="https://images.unsplash.com/photo-1516934024742-b461fba47600?auto=format&fit=crop&w=150&q=80" class="h-full w-full object-cover opacity-90">
        </div>
    </header>

    <main class="min-h-screen">

        <div x-show="tab === 'home'" x-transition.opacity.duration.300ms class="pt-20 pb-8">
            <div class="px-4 mb-8 relative">
                <div class="absolute -right-12 -top-10 text-wander-gold opacity-20 animate-spin-slow pointer-events-none" style="z-index: 0; font-size: 12rem;">‚òÄ</div>

                <div class="relative w-full h-80 rounded-t-[3rem] rounded-b-3xl overflow-hidden shadow-soft group z-10">
                    <img :src="cityImages[currentCity]" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 transition-opacity duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-wander-dark/90 to-transparent flex flex-col justify-end p-6">
                        <span class="text-wander-gold text-xs font-bold uppercase tracking-widest mb-2 font-sans">Bienvenue √† <span x-text="currentCity"></span></span>
                        <h1 class="text-white text-4xl font-serif font-medium leading-tight">√âveillez votre curiosit√©.</h1>
                        <p class="text-white/80 text-sm mt-2 font-light font-sans">Le meilleur de la Culture & du DIY.</p>
                    </div>
                </div>
            </div>

            <div class="mb-10">
                <div class="swiper categories-swiper px-4 !pl-4">
                    <div class="swiper-wrapper">
                        <template x-for="cat in categories" :key="cat.name">
                            <div class="swiper-slide !w-28">
                                <button class="relative w-full aspect-[4/5] rounded-xl overflow-hidden shadow-md group active:scale-95 transition-transform border border-white/50">
                                    <img :src="cat.image" class="absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 grayscale-[20%] group-hover:grayscale-0">
                                    <div class="absolute inset-0 bg-wander-dark/20 group-hover:bg-transparent transition-colors flex items-end justify-center pb-3">
                                        <span class="text-white font-serif font-bold text-sm text-center px-1 shadow-text leading-tight bg-wander-dark/40 w-full py-1 backdrop-blur-sm" x-text="cat.name"></span>
                                    </div>
                                </button>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <div class="px-4 mb-10">
                <div class="bg-wander-dark rounded-2xl p-6 shadow-card text-white relative overflow-hidden">
                    <div class="absolute -left-6 -bottom-6 text-wander-gold opacity-10 text-9xl animate-spin-slow">‚òÄ</div>
                    <h2 class="text-sm font-bold text-wander-gold uppercase tracking-widest mb-2 font-serif">La R√®gle d'Or 2+2</h2>
                    <p class="text-xs text-white/80 mb-6 leading-relaxed font-light font-sans">Chaque mois, recevez <span class="font-bold text-white">2 exp√©riences sur-mesure</span> (vos go√ªts) et <span class="font-bold text-wander-gold">2 surprises totales</span> pour sortir de votre zone de confort.</p>
                    <div class="grid grid-cols-2 gap-4 relative z-10">
                        <div class="bg-white/10 p-4 rounded-xl text-center border border-white/10 backdrop-blur-sm">
                            <div class="text-2xl mb-1">üõãÔ∏è</div>
                            <div class="font-serif text-sm">2 Confort</div>
                        </div>
                        <div class="bg-white/10 p-4 rounded-xl text-center border border-white/10 backdrop-blur-sm">
                            <div class="text-2xl mb-1">üöÄ</div>
                            <div class="font-serif text-sm">2 D√©couverte</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-10">
                <div class="flex justify-between items-end px-4 mb-4">
                    <h2 class="text-2xl font-serif font-bold text-wander-dark tracking-tight">Nos √©ditions limit√©es</h2>
                    <a href="#" class="text-wander-dark text-xs font-bold underline decoration-wander-gold decoration-2 font-sans">Tout voir</a>
                </div>
                <div class="swiper seasonal-swiper px-4 !pl-4">
                    <div class="swiper-wrapper pb-4">
                        <template x-for="box in oneShotBoxes" :key="box.id">
                            <div class="swiper-slide !w-64">
                                <div class="bg-white rounded-2xl overflow-hidden shadow-soft h-full border border-wander-light flex flex-col relative group transform transition-all hover:shadow-lg">
                                    <div class="h-44 relative overflow-hidden">
                                        <img :src="box.image" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                                        <div class="absolute top-3 left-3 bg-wander-dark/80 backdrop-blur-md text-white text-[10px] font-bold px-2.5 py-1.5 rounded-full flex items-center gap-1.5 shadow-sm border border-white/10 font-sans">
                                            <span class="text-wander-gold text-xs animate-pulse">‚òÄ</span> <span x-text="box.timerDisplay"></span>
                                        </div>
                                        <button @click.stop="toggleLike(box)" class="absolute top-3 right-3 p-2 rounded-full bg-white/90 shadow-sm active:scale-90 transition-transform">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-colors duration-300" :class="box.liked ? 'text-red-500 fill-red-500' : 'text-wander-dark'" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                        </button>
                                    </div>
                                    <div class="p-5 flex-1 flex flex-col">
                                        <h3 class="font-serif font-bold text-wander-dark text-lg leading-tight mb-1" x-text="box.title"></h3>
                                        <p class="text-slate-500 text-xs leading-relaxed mb-4 line-clamp-2 font-sans" x-text="box.subtitle"></p>
                                        <div class="mt-auto flex items-end justify-between pt-4 border-t border-dashed border-wander-light">
                                            <div class="text-wander-dark font-serif font-bold text-lg" x-text="box.price"></div>
                                            <div class="flex items-center gap-1 bg-wander-base px-2 py-1 rounded-md border border-wander-light">
                                                <span class="text-wander-gold text-xs">‚òÖ</span>
                                                <span class="text-wander-dark text-xs font-bold font-sans" x-text="box.rating"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <h2 class="text-2xl font-serif font-bold text-wander-dark px-4 mb-4 tracking-tight">TOP 10 du moment</h2>
                <div class="swiper top10-swiper px-4 !pl-4">
                    <div class="swiper-wrapper">
                        <template x-for="(item, index) in top10" :key="item.id">
                            <div class="swiper-slide !w-40">
                                <div class="relative rounded-t-full rounded-b-[2rem] overflow-hidden h-64 shadow-md group border-2 border-white">
                                    <img :src="item.image" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                                    <div class="absolute inset-0 bg-gradient-to-t from-wander-dark via-transparent to-transparent opacity-90"></div>
                                    <div class="absolute -bottom-4 -left-1 text-8xl font-serif font-black text-transparent leading-none z-10" style="-webkit-text-stroke: 1px #FFC857; opacity: 0.8;" x-text="index + 1"></div>
                                    <button @click.stop="toggleLike(item)" class="absolute top-3 right-3 z-20 p-2 rounded-full bg-wander-dark/30 backdrop-blur-md active:scale-90 transition-transform">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-colors duration-300" :class="item.liked ? 'text-red-500 fill-red-500' : 'text-white'" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                                    </button>
                                    <div class="absolute bottom-5 left-8 right-3 z-20 text-right">
                                        <div class="text-white font-serif text-sm leading-tight" x-text="item.title"></div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <div x-show="tab === 'explore'" x-transition.opacity.duration.300ms class="pt-20 pb-32" style="display: none;">
            <div class="bg-wander-base sticky top-16 z-30 px-4 pt-2 pb-2 shadow-soft">
                <div class="relative mb-3">
                    <input type="text" placeholder="Rechercher une activit√©..." class="w-full bg-white text-wander-dark border border-wander-light rounded-xl py-3.5 pl-11 pr-4 text-sm font-medium focus:ring-2 focus:ring-wander-dark focus:border-wander-dark outline-none placeholder:text-slate-400 font-sans">
                    <span class="absolute left-4 top-3.5 text-slate-400"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg></span>
                </div>
                <div class="flex gap-2 overflow-x-auto no-scrollbar pb-2">
                    <button class="flex items-center gap-1.5 px-3 py-2 bg-white border border-wander-light rounded-lg text-xs font-bold text-wander-dark shadow-sm active:scale-95 transition-transform font-sans">
                        <svg class="w-4 h-4 text-wander-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>Dates
                    </button>
                    <button class="flex items-center gap-1.5 px-3 py-2 bg-white border border-wander-light rounded-lg text-xs font-bold text-wander-dark shadow-sm active:scale-95 transition-transform font-sans">
                        <svg class="w-4 h-4 text-wander-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/></svg>Cat√©gories
                    </button>
                </div>
            </div>
            <div class="px-4 mt-6">
                <div class="mb-8">
                    <h3 class="text-sm font-bold text-wander-dark mb-3 px-1 font-serif">Recherches populaires</h3>
                    <div class="flex flex-wrap gap-2">
                        <template x-for="tag in popularSearches" :key="tag">
                            <button class="px-4 py-1.5 rounded-full border border-wander-dark text-wander-dark text-xs font-bold bg-white hover:bg-wander-dark hover:text-white transition-colors duration-200 active:scale-95 font-sans"><span x-text="tag"></span></button>
                        </template>
                    </div>
                </div>
                <div class="mb-8">
                    <h3 class="text-sm font-bold text-wander-dark mb-4 px-1 font-serif">Parcourir par univers</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <template x-for="cat in exploreCategories" :key="cat.name">
                            <button class="flex items-center gap-3 p-3 bg-white border border-wander-light rounded-xl hover:border-wander-dark transition-colors active:scale-95 group text-left">
                                <div class="w-12 h-12 rounded-lg overflow-hidden shrink-0 shadow-sm"><img :src="cat.image" class="w-full h-full object-cover"></div>
                                <span class="font-bold text-wander-dark text-xs leading-tight font-serif" x-text="cat.name"></span>
                            </button>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <div x-show="tab === 'favorites'" x-transition.opacity.duration.300ms class="pt-20 pb-24" style="display: none;">
            <div class="px-5 mb-6">
                <h1 class="text-2xl font-serif font-bold text-wander-dark mb-4">Favoris</h1>
                <div class="flex gap-2 font-sans">
                    <button @click="favFilter = 'all'" :class="favFilter === 'all' ? 'bg-wander-dark text-white border-wander-dark' : 'bg-white text-slate-500 border-wander-light'" class="px-4 py-1.5 rounded-full text-xs font-bold border transition-colors">Tout</button>
                    <button @click="favFilter = 'active'" :class="favFilter === 'active' ? 'bg-wander-dark text-white border-wander-dark' : 'bg-white text-slate-500 border-wander-light'" class="px-4 py-1.5 rounded-full text-xs font-bold border transition-colors">Actives</button>
                    <button @click="favFilter = 'inactive'" :class="favFilter === 'inactive' ? 'bg-wander-dark text-white border-wander-dark' : 'bg-white text-slate-500 border-wander-light'" class="px-4 py-1.5 rounded-full text-xs font-bold border transition-colors">Pass√©es</button>
                </div>
            </div>
            <div class="px-5 space-y-4">
                <div x-show="favFilter !== 'inactive' && getFavorites().length === 0" class="flex flex-col items-center justify-center py-20 text-center font-sans">
                    <div class="w-16 h-16 bg-wander-light rounded-full flex items-center justify-center mb-4 text-3xl opacity-50">üíî</div>
                    <p class="text-wander-dark font-bold">Aucun coup de c≈ìur</p>
                    <p class="text-slate-400 text-sm mt-1">Explorez pour ajouter des favoris.</p>
                </div>

                <template x-for="item in getFavorites()" :key="item.uid">
                    <div class="flex gap-4 border-b border-wander-light pb-4" x-transition:leave="transition ease-in duration-300" x-transition:leave-end="opacity-0 translate-x-10">
                        <div class="relative w-24 h-24 shrink-0">
                            <img :src="item.image" class="w-full h-full object-cover rounded-xl border border-wander-light">
                            <button @click.stop="toggleLike(item)" class="absolute top-1.5 right-1.5 bg-white rounded-full p-1 shadow-sm active:scale-90 transition-transform z-10">
                                <svg class="w-3.5 h-3.5 text-red-500 fill-current" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" /></svg>
                            </button>
                        </div>
                        <div class="flex-1 flex flex-col justify-between py-0.5">
                            <div>
                                <h3 class="font-serif font-bold text-wander-dark text-sm leading-tight mt-0.5 line-clamp-2" x-text="item.title"></h3>
                                <div class="text-xs text-slate-500 mt-1 font-sans" x-text="item.subtitle"></div>
                            </div>
                            <div class="flex items-end justify-between mt-2 font-sans">
                                <div class="text-wander-dark font-bold text-sm" x-text="item.price || 'Inclus'"></div>
                                <div class="flex items-center gap-1"><span class="text-wander-gold text-xs">‚òÖ</span><span class="text-wander-dark text-xs font-semibold" x-text="item.rating || '4.8'"></span></div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <div x-show="tab === 'box'" x-transition.opacity.duration.300ms class="pt-20 px-4 pb-32" style="display: none;">
            <div class="bg-wander-dark rounded-2xl p-6 shadow-lg mb-6 relative overflow-hidden text-white">
                <div class="absolute -right-10 -top-10 text-wander-gold opacity-10 text-9xl animate-spin-slow">‚òÄ</div>
                <h2 class="text-2xl font-serif font-bold mb-1">Janvier ‚Ä¢ Art D√©co</h2>
                <div class="flex items-center gap-2 mb-4 font-sans">
                    <span class="inline-block w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                    <span class="text-xs font-medium opacity-80 uppercase tracking-wide">Box Active</span>
                </div>
                <div class="w-full bg-white/20 rounded-full h-1.5 mb-2"><div class="bg-wander-gold h-1.5 rounded-full w-1/4"></div></div>
                <p class="text-right text-[10px] opacity-70 font-sans">1/4 exp√©riences r√©alis√©es</p>
            </div>
            <div class="space-y-4 mb-8">
                <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wide font-sans">Vos Billets</h3>
                <template x-for="ticket in myBoxTickets" :key="ticket.id">
                    <div class="relative bg-white rounded-2xl shadow-sm overflow-hidden border border-wander-light">
                        <div class="p-4 pb-6 flex gap-4 items-center">
                            <div class="w-16 h-16 rounded-xl bg-wander-base flex items-center justify-center shrink-0 text-2xl border border-wander-light">
                                <span x-text="ticket.type === 'confort' ? 'üõãÔ∏è' : 'üöÄ'"></span>
                            </div>
                            <div class="flex-1">
                                <span class="text-[10px] uppercase font-bold px-2 py-0.5 rounded-full mb-1 bg-wander-base text-wander-dark font-sans" x-text="ticket.type"></span>
                                <h4 class="font-serif font-bold text-wander-dark text-lg leading-tight mt-1" x-text="ticket.title"></h4>
                                <p class="text-xs text-slate-500 mt-1 font-sans" x-text="ticket.month + ' ' + ticket.day + ' ‚Ä¢ ' + ticket.location"></p>
                            </div>
                        </div>
                        <div class="relative h-px w-full">
                            <div class="absolute inset-0 border-t-2 border-dashed border-wander-light"></div>
                            <div class="ticket-notch -left-3 -top-2.5"></div> <div class="ticket-notch -right-3 -top-2.5"></div> 
                        </div>
                        <div class="bg-wander-base/50 p-4 flex justify-between items-center font-sans">
                            <div class="text-[10px] text-slate-400">Billet valable 1 personne</div>
                            <button @click="openQr(ticket)" class="text-wander-dark text-xs font-bold flex items-center gap-1 hover:underline">
                                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 17h4.01M16 3h4.01M12 3c-1.258 0-2.348.6-3.057 1.5H8.98M16 3v4M4.98 8.484A2.99 2.99 0 013 11v3a2.99 2.99 0 012 3v3a2.99 2.99 0 01-3 1.5v2.5a2.49 2.49 0 002.5 2.5h15a2.49 2.49 0 002.5-2.5V18.5a2.99 2.99 0 01-3-1.5V11a2.99 2.99 0 01-2-3H4.98z" /></svg>
                                Afficher le QR Code
                            </button>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <div x-show="tab === 'subscription'" x-transition.opacity.duration.300ms class="pt-20 px-4 pb-32" style="display: none;">
            <h1 class="text-2xl font-serif font-bold text-wander-dark mb-2">Abonnement</h1>
            <p class="text-sm text-slate-500 mb-8 font-medium font-sans">Formule Nouveaux Horizons (6 mois)</p>
            <div class="relative pl-4 border-l-2 border-wander-light space-y-8 ml-2">
                <template x-for="month in subscriptionTimeline" :key="month.name">
                    <div class="relative pl-6" :class="month.status === 'locked' ? 'opacity-60 grayscale' : (month.status === 'past' ? 'opacity-75' : '')">
                        <div class="absolute -left-[21px] top-1 w-4 h-4 rounded-full border-2 border-white flex items-center justify-center"
                             :class="month.status === 'active' ? 'bg-wander-dark ring-4 ring-wander-light scale-125' : (month.status === 'past' ? 'bg-slate-400' : 'bg-slate-300')">
                             <span x-show="month.status === 'past'" class="text-[8px] text-white">‚úì</span>
                        </div>
                        <h4 class="text-sm font-bold font-serif" :class="month.status === 'active' ? 'text-wander-dark' : 'text-slate-500'" x-text="month.name"></h4>
                        <div class="bg-white p-4 rounded-xl mt-2 border relative overflow-hidden" 
                             :class="month.status === 'active' ? 'shadow-md border-wander-dark' : 'border-slate-100 border-dashed'">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="text-[10px] uppercase font-bold mb-1 font-sans" :class="month.status === 'active' ? 'text-wander-dark' : 'text-slate-400'" x-text="'Th√®me : ' + month.theme"></div>
                                    <div class="text-sm font-medium text-slate-700 font-sans" x-text="month.desc"></div>
                                </div>
                                <span class="text-2xl" x-text="month.status === 'locked' ? 'üîí' : month.icon"></span>
                            </div>
                            <button x-show="month.status === 'active'" @click="tab = 'box'" class="mt-3 w-full py-2 bg-wander-dark text-white rounded-lg text-xs font-bold shadow-md active:scale-95 transition-transform font-sans">Voir mes tickets</button>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <div x-show="tab === 'account'" x-transition.opacity.duration.300ms style="display: none;">
            <div class="bg-wander-base pt-safe px-5 pb-6 border-b border-wander-light">
                <div class="flex justify-between items-center pt-4 mb-6">
                    <h1 class="text-xl font-serif font-bold text-wander-dark">Mon Compte</h1>
                </div>
                <div class="flex items-center gap-4">
                    <div class="h-20 w-20 rounded-full border-4 border-white bg-wander-dark flex items-center justify-center text-4xl shadow-md overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1516934024742-b461fba47600?auto=format&fit=crop&w=150&q=80" class="h-full w-full object-cover">
                    </div>
                    <div>
                        <h2 class="text-lg font-serif font-bold text-wander-dark leading-tight">Marie-Christine<br>Du Haut Ch√¢teau</h2>
                        <p class="text-sm text-slate-500 mt-1 font-sans">m.duhautchateau@email.com</p>
                    </div>
                </div>
            </div>
            <div class="px-5 py-6 space-y-3 font-sans">
                <button class="w-full bg-white p-4 rounded-xl flex items-center gap-4 shadow-sm border border-wander-light group active:scale-95 transition-transform">
                    <div class="bg-wander-base p-3 rounded-xl text-wander-dark"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg></div>
                    <div class="text-left"><div class="font-bold text-wander-dark font-serif">Parrainage</div><div class="text-xs text-slate-400">Invitez des amis, gagnez des box</div></div>
                </button>
                <div class="mt-8 text-center text-xs text-slate-400">Se d√©connecter</div>
            </div>
        </div>

    </main>

    <div class="fixed bottom-[96px] left-0 right-0 z-40 flex justify-center pointer-events-none" x-show="tab === 'home' || tab === 'explore' || tab === 'favorites'">
        <button @click="openConfigurator()" class="pointer-events-auto bg-wander-dark hover:bg-[#00123A] text-white shadow-lg shadow-wander-dark/40 rounded-full px-6 py-3.5 flex items-center gap-2 transform transition-all duration-200 active:scale-95 border border-wander-gold/50">
            <span class="text-lg animate-spin-slow">‚òÄ</span>
            <span class="font-bold text-sm tracking-wide font-sans">CR√âER MA BOX</span>
        </button>
    </div>

    <nav class="fixed bottom-0 inset-x-0 bg-wander-base border-t border-wander-light pb-safe pt-1.5 h-[84px] z-50 shadow-nav">
        <div class="grid grid-cols-6 h-full items-start px-1">
            <template x-for="item in navItems">
                <button @click="tab = item.id" class="flex flex-col items-center justify-center gap-1 group pt-1">
                    <div :class="tab === item.id ? 'text-wander-dark scale-110' : 'text-slate-400'" class="transition-all duration-200" x-html="item.icon"></div>
                    <span class="text-[9px] font-medium font-sans" :class="tab === item.id ? 'text-wander-dark font-bold' : 'text-slate-400'" x-text="item.label"></span>
                </button>
            </template>
        </div>
    </nav>

    <div x-show="configOpen" class="fixed inset-0 z-50 bg-wander-base flex flex-col" x-transition.opacity style="display: none;">
        <div class="px-5 py-4 flex justify-between items-center border-b border-wander-light">
            <button @click="configOpen = false" class="text-slate-400 p-2 -ml-2">‚úï</button>
            <div class="text-wander-dark font-bold font-serif">Cr√©er ma Box</div>
            <div class="w-8"></div>
        </div>
        <div class="w-full bg-wander-light h-1"><div class="bg-wander-dark h-1 transition-all duration-300" :style="'width:' + (step/6)*100 + '%'"></div></div>
        <div class="flex-1 flex flex-col p-6 overflow-y-auto font-sans">
             <div x-show="step===1">
                <h2 class="text-2xl font-bold text-wander-dark mb-2 font-serif">Votre humeur ?</h2>
                <div class="space-y-3 mt-6">
                    <button @click="step++" class="w-full p-5 border border-wander-light bg-white rounded-2xl flex items-center gap-4 hover:border-wander-dark transition-all text-left">
                        <span class="text-3xl">‚òï</span><div><div class="font-bold text-wander-dark">Cocooning</div></div>
                    </button>
                    <button @click="step++" class="w-full p-5 border border-wander-light bg-white rounded-2xl flex items-center gap-4 hover:border-wander-dark transition-all text-left">
                        <span class="text-3xl">‚ö°</span><div><div class="font-bold text-wander-dark">Aventure</div></div>
                    </button>
                </div>
             </div>
             <div x-show="step===6" class="flex-1 flex flex-col items-center justify-center text-center">
                <div class="text-6xl animate-spin-slow mb-4">‚òÄ</div>
                <h3 class="text-xl font-bold text-wander-dark font-serif">Cr√©ation en cours...</h3>
            </div>
        </div>
    </div>

    <div x-show="qrOpen" class="fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-5 font-sans" x-transition.opacity style="display: none;">
         <div class="bg-white rounded-3xl p-8 w-full max-w-sm text-center relative shadow-2xl" @click.outside="closeQr()">
            <button @click="closeQr()" class="absolute top-4 right-4 text-slate-400">‚úï</button>
            <h3 class="text-xl font-bold text-slate-800 font-serif">Votre E-Billet</h3>
            <img :src="currentQrUrl" class="w-48 h-48 object-contain mx-auto my-6">
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('app', () => ({
                tab: 'home',
                configOpen: false, qrOpen: false, currentQrUrl: '', activeTicket: null, step: 1, favFilter: 'all', scrolled: false, currentCity: 'Paris',
                cities: ['Paris', 'Marseille', 'Lyon', 'Toulouse', 'Nice', 'Nantes', 'Montpellier', 'Strasbourg', 'Bordeaux', 'Lille'],
                
                navItems: [
                    {id: 'home', label: 'Accueil', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>'},
                    {id: 'explore', label: 'Explorer', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>'},
                    {id: 'favorites', label: 'Favoris', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>'},
                    {id: 'box', label: 'Ma Box', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/></svg>'},
                    {id: 'subscription', label: 'Abonn.', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>'},
                    {id: 'account', label: 'Compte', icon: '<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>'}
                ],

                // --- DATA IMAGES (Identique V8) ---
                cityImages: {
                    'Paris': 'https://images.unsplash.com/photo-1550340499-a6c60fc8287c?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
                    'Marseille': 'https://images.unsplash.com/photo-1566838217578-1903568a76d9?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFyc2VpbGxlfGVufDB8fDB8fHww',
                    'Lyon': 'https://images.unsplash.com/photo-1602087594298-706ccc894bfd?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bHlvbnxlbnwwfHwwfHx8MA%3D%3D',
                    'Toulouse': 'https://images.unsplash.com/photo-1650707199496-b02442055332?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8dG91bG91c2V8ZW58MHwwfDB8fHwy',
                    'Nice': 'https://images.unsplash.com/photo-1601226372175-41ff0f30bd9c?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fG5pY2V8ZW58MHwwfDB8fHwy',
                    'Nantes': 'https://images.unsplash.com/photo-1676283898167-addc4238bee8?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bmFudGVzfGVufDB8MHwwfHx8Mg%3D%3D',
                    'Montpellier': 'https://images.unsplash.com/photo-1634131348313-bacc2b12d328?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fG1vbnRwZWxsaWVyfGVufDB8MHwwfHx8Mg%3D%3D',
                    'Strasbourg': 'https://images.unsplash.com/photo-1596036978267-c56635f573c9?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8c3RyYXNib3VyZ3xlbnwwfDB8MHx8fDI%3D',
                    'Bordeaux': 'https://images.unsplash.com/photo-1698608216843-67ae1151b2b8?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Ym9yZGVhdXh8ZW58MHwwfDB8fHwy',
                    'Lille': 'https://images.unsplash.com/photo-1723366646754-17722fefdf80?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bGlsbGV8ZW58MHwwfDB8fHwy'
                },

                // (Reste des data inchang√©es de V8 mais incluses)
                popularSearches: ["C√©ramique", "Th√©√¢tre", "Solo Date", "Rencontre", "Concert", "Impro", "DIY", "Mus√©e", "Duo", "Vin & Paint"],
                categories: [
                    { name: 'Modelage', image: 'https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8cG90ZXJpZXxlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Bougies', image: 'https://images.unsplash.com/photo-1735380674308-9e278d784e8f?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Y2FuZGxlJTIwY3JhZnRpbmd8ZW58MHwwfDB8fHwy' },
                    { name: 'C√©ramique', image: 'https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8cG90ZXJpZXxlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Peinture', image: 'https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cGVpbnR1cmV8ZW58MHwwfDB8fHwy' },
                    { name: 'Tufting', image: 'https://images.unsplash.com/photo-1736865875785-2073deb7185c?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8dHVmdGluZ3xlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Parfumerie', image: 'https://images.unsplash.com/photo-1615634260167-c8cdede054de?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8cGVyZnVtZXxlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Th√©√¢tre', image: 'https://images.unsplash.com/photo-1576724196706-3f23f51ea351?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8dGhlYXRlcnxlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Stand-up', image: 'https://images.unsplash.com/photo-1512117789060-5de1ecef9eb7?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c3RhbmQlMjB1cHxlbnwwfDB8MHx8fDI%3D' },
                    { name: 'Insolite', image: 'https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8Z3JvdXAlMjBmdW58ZW58MHx8MHx8fDA%3D' },
                    { name: 'Concert', image: 'https://images.unsplash.com/photo-1501612780327-45045538702b?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGNvbmNlcnR8ZW58MHx8MHx8fDA%3D' },
                ],
                exploreCategories: [
                     { name: "Art & Manuel", image: "https://images.unsplash.com/photo-1452860606245-08befc0ff44b?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXJ0JTIwJTI2JTIwbWFudWVsfGVufDB8fDB8fHww" },
                     { name: "Spectacles", image: "https://images.unsplash.com/photo-1576724196706-3f23f51ea351?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8dGhlYXRlcnxlbnwwfDB8MHx8fDI%3D" },
                     { name: "Expos & Mus√©es", image: "https://images.unsplash.com/photo-1566127444979-b3d2b654e3d7?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8bXVzZXVtfGVufDB8fDB8fHww" },
                     { name: "Insolite", image: "https://images.unsplash.com/photo-1557160854-e1e89fdd3286?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGluc29saXRlfGVufDB8fDB8fHww" },
                     { name: "Sorties Groupe", image: "https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8Z3JvdXAlMjBmdW58ZW58MHx8MHx8fDA%3D" },
                     { name: "Bien-√™tre", image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8eW9nYXxlbnwwfHwwfHx8MA%3D%3D" },
                     { name: "Gastronomie", image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z2FzdHJvbm9teXxlbnwwfHwwfHx8MA%3D%3D" },
                     { name: "Plein Air", image: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bmF0dXJlfGVufDB8fDB8fHww" }
                ],
                partnerBoxes: [
                      { id: 1, title: 'Escale au Louvre', partner: 'Mus√©e du Louvre', type: 'Culture', image: 'https://images.unsplash.com/photo-1609086460188-f33e3dd4de2a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fExvdXZyZXN8ZW58MHwwfDB8fHwy' },
                      { id: 2, title: 'Myst√®res du Panth√©on', partner: 'Centre des Monuments', type: 'Histoire', image: 'https://images.unsplash.com/photo-1743107924367-50a73310950a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cGFudGglQzMlQTlvbiUyMHBhcmlzfGVufDB8MHwwfHx8Mg%3D%3D' },
                      { id: 3, title: 'Op√©ra & Coulisses', partner: 'Op√©ra Garnier', type: 'Musique', image: 'https://images.unsplash.com/photo-1645956734722-ac84c86fa4da?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8b3AlQzMlQTlyYSUyMGdhcm5pZXJ8ZW58MHwwfDB8fHwy' },
                      { id: 4, title: 'Versailles Intime', partner: 'Ch√¢teau de Versailles', type: 'Royal', image: 'https://images.unsplash.com/photo-1591828353335-197466da2a4e?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8dmVyc2FpbGxlc3xlbnwwfDB8MHx8fDI%3D' }
                ],
                oneShotBoxes: [
                    { id: 1, title: 'Saint-Valentin', subtitle: 'D√Æner aux chandelles & Croisi√®re', price: '95‚Ç¨', rating: 4.9, reviews: 120, liked: false, endDate: new Date(Date.now() + 250000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c2FpbnQlMjB2YWxlbnRpbnxlbnwwfDB8MHx8fDI%3D' },
                    { id: 2, title: 'P√¢ques Gourmand', subtitle: 'Chasse aux ≈ìufs & Atelier Chocolat', price: '55‚Ç¨', rating: 4.7, reviews: 85, liked: false, endDate: new Date(Date.now() + 500000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1548741487-18d363dc4469?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8Y2hvY29sYXRlfGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 3, title: 'Nouvel An', subtitle: 'Soir√©e Masqu√©e & Rooftop', price: '120‚Ç¨', rating: 5.0, reviews: 210, liked: false, endDate: new Date(Date.now() + 800000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1499233983070-99a5f004e720?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZmlyZXdvcmt8ZW58MHwwfDB8fHwy' },
                    { id: 4, title: 'Rentr√©e Arty', subtitle: 'Atelier Peinture & Expo Rentr√©e', price: '45‚Ç¨', rating: 4.8, reviews: 342, liked: false, endDate: new Date(Date.now() + 150000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1757085242652-f8cd4d3de889?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXRlbGllciUyMHBlaW50dXJlfGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 5, title: 'Summer Vibes', subtitle: 'Cin√©ma plein air & Cocktails', price: '60‚Ç¨', rating: 4.9, reviews: 56, liked: false, endDate: new Date(Date.now() + 350000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1658195952756-892740657893?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bW92aWUlMjBvdXRkb29yfGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 6, title: 'Halloween', subtitle: 'Manoir Hant√© & Maquillage SFX', price: '50‚Ç¨', rating: 4.6, reviews: 98, liked: false, endDate: new Date(Date.now() + 600000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1477516561410-f0b5dd8319e4?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aGFsbG93ZWVufGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 7, title: 'F√™te des M√®res', subtitle: 'Atelier Cr√©ation Florale en Duo', price: '85‚Ç¨', rating: 5.0, reviews: 150, liked: false, endDate: new Date(Date.now() + 420000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1544928147-9e66f653d177?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXRlbGllciUyMGZsb3JhbHxlbnwwfDB8MHx8fDI%3D' },
                    { id: 8, title: 'No√´l Magique', subtitle: 'March√© Priv√© & Patinoire', price: '70‚Ç¨', rating: 4.9, reviews: 300, liked: false, endDate: new Date(Date.now() + 900000000), timerDisplay: '', image: 'https://images.unsplash.com/photo-1544212415-b269f18bf7ed?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bWFyY2glQzMlQTklMjBkZSUyMG5vJUMzJUFCbHxlbnwwfDB8MHx8fDI%3D' },
                ],
                top10: [
                    { id: 1, title: 'Nuit au Mus√©e', subtitle: 'Visite aux flambeaux', liked: false, price: '30‚Ç¨', rating: 4.8, image: 'https://images.unsplash.com/photo-1566127444979-b3d2b654e3d7?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fG11c2V1bSUyMHRvcmNofGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 2, title: 'Vins & Toiles', subtitle: 'D√©gustation & Peinture', liked: false, price: '45‚Ç¨', rating: 4.9, image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8d2luZSUyMHRhc3Rpbmd8ZW58MHwwfDB8fHwy' },
                    { id: 3, title: 'Poterie Date', subtitle: 'Romance & Argile', liked: false, price: '50‚Ç¨', rating: 4.7, image: 'https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cG90ZXJ5JTIwY291cGxlfGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 4, title: 'Paris Secret', subtitle: 'Catacombes / Souterrain', liked: false, price: '25‚Ç¨', rating: 4.5, image: 'https://images.unsplash.com/photo-1734461257073-58971b921cb3?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8dHVubmVsJTIwc291dGVycmFpbiUyMGNhdGFjb21iZXxlbnwwfDB8MHx8fDI%3D' },
                    { id: 5, title: 'Op√©ra Rock', subtitle: 'Les coulisses cach√©es', liked: false, price: '20‚Ç¨', rating: 4.8, image: 'https://images.unsplash.com/photo-1645956734722-ac84c86fa4da?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8b3AlQzMlQTlyYSUyMGdhcm5pZXJ8ZW58MHwwfDB8fHwy' },
                    { id: 6, title: 'Jardin Zen', subtitle: 'M√©ditation guid√©e', liked: false, price: '15‚Ç¨', rating: 4.9, image: 'https://images.unsplash.com/photo-1558869632-279458ac1734?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8amFyZGluJTIwamFwb25haXN8ZW58MHwwfDB8fHwy' },
                    { id: 7, title: 'Street Vibes', subtitle: 'Graffiti Tour 13e', liked: false, price: 'Gratuit', rating: 4.6, image: 'https://images.unsplash.com/photo-1659609237289-93e13c4a3a05?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHBhcmlzJTIwc3RyZWV0YXJ0fGVufDB8MHwwfHx8Mg%3D%3D' },
                    { id: 8, title: 'Gastro Chef', subtitle: 'Cours avec un √©toil√©', liked: false, price: '120‚Ç¨', rating: 5.0, image: 'https://images.unsplash.com/photo-1545659531-9a66f06e260a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGNoZWYlMjBjdWlzaW5pZXJ8ZW58MHwwfDB8fHwy' },
                    { id: 9, title: 'Jazz & Seine', subtitle: 'Concert sur l\'eau', liked: false, price: '35‚Ç¨', rating: 4.7, image: 'https://images.unsplash.com/photo-1501612780327-45045538702b?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGNvbmNlcnR8ZW58MHx8MHx8fDA%3D' },
                    { id: 10, title: 'Photo Walk', subtitle: 'Paris argentique', liked: false, price: '10‚Ç¨', rating: 4.8, image: 'https://images.unsplash.com/photo-1552168324-d612d77725e3?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Y2FtZXJhJTIwc3RyZWV0fGVufDB8MHwwfHx8Mg%3D%3D' },
                ],
                myBoxTickets: [
                      { id: 1, title: 'Op√©ra Bastille', location: 'Place de la Bastille', month: 'JAN', day: '12', type: 'confort' },
                      { id: 2, title: 'Soufflage de Verre', location: 'Atelier Viaduc', month: 'JAN', day: '18', type: 'decouverte' },
                      { id: 3, title: 'Expo: Noir & Blanc', location: 'Grand Palais', month: 'JAN', day: '24', type: 'confort' },
                      { id: 4, title: 'Speakeasy Secret', location: 'Quartier Latin', month: 'JAN', day: '29', type: 'decouverte' }
                ],
                
                subscriptionTimeline: [
                    { name: 'D√©cembre', status: 'past', theme: 'F√©√©rie', icon: '‚ú®', desc: 'Box termin√©e' },
                    { name: 'Janvier', status: 'active', theme: 'Art D√©co', icon: 'üé®', desc: 'Box livr√©e - En cours' },
                    { name: 'F√©vrier', status: 'locked', theme: 'Romantisme Noir', icon: 'ü•Ä', desc: 'Arrive bient√¥t' },
                    { name: 'Mars', status: 'locked', theme: 'Th√®me Surprise', icon: '‚ùì', desc: 'Myst√®re total' },
                    { name: 'Avril', status: 'locked', theme: 'Japonisme & Estampes', icon: 'üåä', desc: 'Inspiration Asie' },
                    { name: 'Mai', status: 'locked', theme: 'Street Art & Graffiti', icon: 'üß±', desc: 'Art urbain' },
                ],

                init() {
                    this.$nextTick(() => {
                        new Swiper('.categories-swiper', { slidesPerView: 'auto', spaceBetween: 16, freeMode: true });
                        new Swiper('.seasonal-swiper', { slidesPerView: 'auto', spaceBetween: 16, freeMode: true });
                        new Swiper('.top10-swiper', { slidesPerView: 'auto', spaceBetween: 16, freeMode: true });
                    });
                },
                initTimers() {
                    setInterval(() => {
                        const now = new Date().getTime();
                        this.oneShotBoxes.forEach(box => {
                            const distance = box.endDate.getTime() - now;
                            if (distance < 0) { box.timerDisplay = "Termin√©"; } else {
                                const d = Math.floor(distance / (1000 * 60 * 60 * 24));
                                const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                const s = Math.floor((distance % (1000 * 60)) / 1000);
                                box.timerDisplay = `${d}j ${h}h ${m}m ${s}s`;
                            }
                        });
                    }, 1000);
                },
                getFavorites() {
                    return [...this.oneShotBoxes, ...this.top10].filter(i => i.liked).map(i => ({...i, uid: i.title}));
                },
                toggleLike(item) { item.liked = !item.liked; },
                openQr(ticket) { this.activeTicket = ticket; this.currentQrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${ticket.id}`; this.qrOpen = true; },
                closeQr() { this.qrOpen = false; },
                openConfigurator() { this.step = 1; this.configOpen = true; },
                startGeneration() { this.step = 6; setTimeout(() => { this.configOpen = false; this.tab = 'box'; this.step = 1; }, 2500); }
            }))
        })
    </script>
</body>
</html>